<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  <title>RozwiƒÖzywanie problem√≥w ‚Äî Portal Dydaktyczny</title>
  <style>
    :root {
      --pwr-red: #9A342D;
      --med-teal: #00b2ba;
      --bg: #f6f7f9;
      --card: #ffffff;
      --card2: #f0f3f6;
      --text: #101828;
      --muted: #475467;
      --line: rgba(16,24,40,.14);
      --success: #10b981;
      --warning: #f59e0b;
      --error: #ef4444;
      --info: #3b82f6;
    }

    [data-theme="dark"] {
      --bg: #0b0f14;
      --card: #0f1520;
      --card2: #101a2a;
      --text: #e6e9ef;
      --muted: rgba(230,233,239,.72);
      --line: rgba(255,255,255,.14);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    html { scroll-behavior: smooth; }
    
    body {
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, var(--pwr-red), #7a2a24);
      color: white;
      padding: 60px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      opacity: 0.5;
    }

    .header-content {
      position: relative;
      z-index: 1;
      max-width: 800px;
      margin: 0 auto;
    }

    .header h1 {
      font-size: clamp(28px, 5vw, 42px);
      font-weight: 900;
      margin-bottom: 16px;
      text-shadow: 0 2px 10px rgba(0,0,0,.2);
    }

    .header p {
      font-size: 18px;
      opacity: 0.9;
    }

    .header-actions {
      margin-top: 24px;
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .header-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.2s ease;
    }

    .header-btn.primary {
      background: white;
      color: var(--pwr-red);
    }

    .header-btn.secondary {
      background: rgba(255,255,255,.15);
      color: white;
      border: 1px solid rgba(255,255,255,.3);
    }

    .header-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0,0,0,.2);
    }

    /* Theme Toggle */
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 100;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 50%;
      width: 48px;
      height: 48px;
      display: grid;
      place-items: center;
      cursor: pointer;
      font-size: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,.1);
      transition: all 0.2s ease;
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

    /* Main Content */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    /* Search */
    .search-box {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 32px;
      box-shadow: 0 8px 24px rgba(0,0,0,.06);
    }

    .search-box label {
      display: block;
      font-weight: 800;
      margin-bottom: 12px;
      font-size: 14px;
      color: var(--muted);
    }

    .search-input-wrapper {
      position: relative;
    }

    .search-input {
      width: 100%;
      padding: 16px 20px 16px 50px;
      border: 2px solid var(--line);
      border-radius: 12px;
      font-size: 16px;
      background: var(--card2);
      color: var(--text);
      transition: all 0.2s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: var(--med-teal);
      box-shadow: 0 0 0 4px rgba(0,178,186,.15);
    }

    .search-icon {
      position: absolute;
      left: 18px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 20px;
      opacity: 0.5;
    }

    .search-stats {
      margin-top: 12px;
      font-size: 14px;
      color: var(--muted);
    }

    /* Category Filters */
    .categories {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 32px;
    }

    .category-btn {
      padding: 10px 18px;
      border: 1px solid var(--line);
      border-radius: 999px;
      background: var(--card);
      color: var(--muted);
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .category-btn:hover {
      border-color: var(--med-teal);
      color: var(--text);
    }

    .category-btn.active {
      background: linear-gradient(135deg, rgba(0,178,186,.1), rgba(0,178,186,.05));
      border-color: var(--med-teal);
      color: var(--med-teal);
    }

    .category-btn .count {
      background: var(--card2);
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 12px;
    }

    .category-btn.active .count {
      background: rgba(0,178,186,.2);
    }

    /* Problems Grid */
    .problems-grid {
      display: grid;
      gap: 20px;
    }

    /* Problem Card */
    .problem-card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0,0,0,.04);
      transition: all 0.3s ease;
    }

    .problem-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 32px rgba(0,0,0,.08);
    }

    .problem-card.hidden {
      display: none;
    }

    .problem-header {
      padding: 20px 24px;
      cursor: pointer;
      display: flex;
      align-items: flex-start;
      gap: 16px;
      background: linear-gradient(135deg, rgba(0,178,186,.02), transparent);
    }

    .problem-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: grid;
      place-items: center;
      font-size: 24px;
      flex-shrink: 0;
    }

    .problem-icon.error { background: rgba(239,68,68,.1); }
    .problem-icon.warning { background: rgba(245,158,11,.1); }
    .problem-icon.info { background: rgba(59,130,246,.1); }
    .problem-icon.config { background: rgba(139,92,246,.1); }

    .problem-content {
      flex: 1;
      min-width: 0;
    }

    .problem-title {
      font-size: 17px;
      font-weight: 800;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .problem-desc {
      color: var(--muted);
      font-size: 14px;
    }

    .problem-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .tag {
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .tag.json { background: rgba(245,158,11,.1); color: #b45309; }
    .tag.github { background: rgba(0,0,0,.1); color: var(--text); }
    .tag.css { background: rgba(59,130,246,.1); color: #2563eb; }
    .tag.js { background: rgba(234,179,8,.1); color: #a16207; }
    .tag.config { background: rgba(139,92,246,.1); color: #7c3aed; }

    .expand-icon {
      font-size: 20px;
      transition: transform 0.3s ease;
      color: var(--muted);
    }

    .problem-card.expanded .expand-icon {
      transform: rotate(180deg);
    }

    /* Solution Panel */
    .solution-panel {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
      background: var(--card2);
    }

    .problem-card.expanded .solution-panel {
      max-height: 2000px;
    }

    .solution-content {
      padding: 24px;
      border-top: 1px solid var(--line);
    }

    .solution-section {
      margin-bottom: 24px;
    }

    .solution-section:last-child {
      margin-bottom: 0;
    }

    .solution-section h4 {
      font-size: 14px;
      font-weight: 800;
      color: var(--muted);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .cause-list, .solution-steps {
      list-style: none;
    }

    .cause-list li, .solution-steps li {
      padding: 10px 0;
      padding-left: 28px;
      position: relative;
      border-bottom: 1px solid var(--line);
    }

    .cause-list li:last-child, .solution-steps li:last-child {
      border-bottom: none;
    }

    .cause-list li::before {
      content: '‚ö†Ô∏è';
      position: absolute;
      left: 0;
      top: 10px;
    }

    .solution-steps li::before {
      content: counter(step);
      counter-increment: step;
      position: absolute;
      left: 0;
      top: 10px;
      width: 20px;
      height: 20px;
      background: var(--med-teal);
      color: white;
      border-radius: 50%;
      font-size: 11px;
      font-weight: 800;
      display: grid;
      place-items: center;
    }

    .solution-steps {
      counter-reset: step;
    }

    /* Code Block */
    .code-block {
      background: #1e1e1e;
      border-radius: 10px;
      overflow: hidden;
      margin: 12px 0;
    }

    .code-header {
      background: #2d2d2d;
      padding: 8px 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .code-lang {
      font-size: 11px;
      font-weight: 700;
      color: #888;
      text-transform: uppercase;
    }

    .copy-btn {
      background: transparent;
      border: 1px solid #444;
      color: #888;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 11px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .copy-btn:hover {
      background: #444;
      color: white;
    }

    .copy-btn.copied {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }

    .code-content {
      padding: 16px;
      overflow-x: auto;
    }

    .code-content pre {
      margin: 0;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-size: 13px;
      line-height: 1.5;
      color: #d4d4d4;
    }

    .code-content .comment { color: #6a9955; }
    .code-content .string { color: #ce9178; }
    .code-content .keyword { color: #569cd6; }
    .code-content .number { color: #b5cea8; }

    /* Tip Box */
    .tip-box {
      padding: 16px 20px;
      border-radius: 10px;
      margin: 16px 0;
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    .tip-box.success {
      background: rgba(16,185,129,.1);
      border: 1px solid rgba(16,185,129,.3);
    }

    .tip-box.warning {
      background: rgba(245,158,11,.1);
      border: 1px solid rgba(245,158,11,.3);
    }

    .tip-box.info {
      background: rgba(59,130,246,.1);
      border: 1px solid rgba(59,130,246,.3);
    }

    .tip-icon {
      font-size: 20px;
      flex-shrink: 0;
    }

    .tip-content {
      font-size: 14px;
    }

    .tip-content strong {
      display: block;
      margin-bottom: 4px;
    }

    /* FAQ Section */
    .faq-section {
      margin-top: 60px;
      padding-top: 40px;
      border-top: 1px solid var(--line);
    }

    .section-title {
      font-size: 28px;
      font-weight: 900;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-subtitle {
      color: var(--muted);
      margin-bottom: 32px;
    }

    /* Footer */
    .footer {
      margin-top: 80px;
      padding: 40px 20px;
      background: var(--card);
      border-top: 1px solid var(--line);
      text-align: center;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 24px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .footer-link {
      color: var(--muted);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s ease;
    }

    .footer-link:hover {
      color: var(--med-teal);
    }

    .footer-copy {
      color: var(--muted);
      font-size: 14px;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .problem-card {
      animation: fadeIn 0.4s ease backwards;
    }

    .problem-card:nth-child(1) { animation-delay: 0.05s; }
    .problem-card:nth-child(2) { animation-delay: 0.1s; }
    .problem-card:nth-child(3) { animation-delay: 0.15s; }
    .problem-card:nth-child(4) { animation-delay: 0.2s; }
    .problem-card:nth-child(5) { animation-delay: 0.25s; }

    /* Responsive */
    @media (max-width: 768px) {
      .header { padding: 40px 16px; }
      .header h1 { font-size: 28px; }
      .container { padding: 24px 16px; }
      .problem-header { padding: 16px; }
      .problem-icon { width: 40px; height: 40px; font-size: 20px; }
      .problem-title { font-size: 15px; }
      .solution-content { padding: 16px; }
      .categories { gap: 8px; }
      .category-btn { padding: 8px 14px; font-size: 13px; }
    }

    @media (max-width: 480px) {
      .header-actions { flex-direction: column; }
      .header-btn { width: 100%; justify-content: center; }
      .problem-tags { gap: 6px; }
      .tag { font-size: 10px; padding: 3px 8px; }
    }

    /* Print styles */
    @media print {
      .theme-toggle, .search-box, .categories, .header-actions { display: none; }
      .problem-card { break-inside: avoid; }
      .solution-panel { max-height: none !important; }
    }
  </style>
</head>
<body>
  <button class="theme-toggle" id="themeToggle" aria-label="Zmie≈Ñ motyw">‚óê</button>

  <header class="header">
    <div class="header-content">
      <h1>üõ†Ô∏è RozwiƒÖzywanie problem√≥w</h1>
      <p>Kompleksowy przewodnik po najczƒôstszych problemach i ich rozwiƒÖzaniach</p>
      <div class="header-actions">
        <a href="index.html" class="header-btn primary">‚Üê Powr√≥t do strony</a>
        <a href="https://github.com/19paoletto10-hub/tanski_materialy/issues" class="header-btn secondary" target="_blank">üìù Zg≈Ço≈õ problem</a>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Search -->
    <div class="search-box">
      <label for="searchInput">üîç Wyszukaj problem</label>
      <div class="search-input-wrapper">
        <span class="search-icon">üîé</span>
        <input type="search" id="searchInput" class="search-input" placeholder="Opisz sw√≥j problem, np. 'JSON error', 'materia≈Çy nie ≈ÇadujƒÖ siƒô'...">
      </div>
      <div class="search-stats" id="searchStats">Wy≈õwietlono wszystkie problemy</div>
    </div>

    <!-- Categories -->
    <div class="categories" id="categories">
      <button class="category-btn active" data-category="all">
        Wszystkie <span class="count" id="countAll">0</span>
      </button>
      <button class="category-btn" data-category="json">
        üìÑ JSON <span class="count" id="countJson">0</span>
      </button>
      <button class="category-btn" data-category="github">
        üêô GitHub <span class="count" id="countGithub">0</span>
      </button>
      <button class="category-btn" data-category="display">
        üñ•Ô∏è Wy≈õwietlanie <span class="count" id="countDisplay">0</span>
      </button>
      <button class="category-btn" data-category="config">
        ‚öôÔ∏è Konfiguracja <span class="count" id="countConfig">0</span>
      </button>
    </div>

    <!-- Problems Grid -->
    <div class="problems-grid" id="problemsGrid">
      <!-- Problems will be dynamically inserted here -->
    </div>

    <!-- FAQ Section -->
    <section class="faq-section">
      <h2 class="section-title">‚ùì Czƒôsto zadawane pytania</h2>
      <p class="section-subtitle">Odpowiedzi na najpopularniejsze pytania</p>
      
      <div class="problems-grid" id="faqGrid">
        <!-- FAQ will be dynamically inserted here -->
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-links">
      <a href="index.html" class="footer-link">Strona g≈Ç√≥wna</a>
      <a href="materials.html" class="footer-link">Materia≈Çy</a>
      <a href="TEMPLATE.md" class="footer-link">Instrukcja szablonu</a>
      <a href="https://github.com/19paoletto10-hub/tanski_materialy" class="footer-link" target="_blank">GitHub</a>
    </div>
    <p class="footer-copy">¬© PWr ‚Ä¢ Wydzia≈Ç Medyczny ‚Ä¢ Portal Dydaktyczny v1.0.0</p>
  </footer>

  <script>
    (function() {
      'use strict';

      // ============================================
      // DATA - Problems Database
      // ============================================
      
      const problems = [
        {
          id: 'json-syntax',
          category: 'json',
          icon: '‚ùå',
          iconType: 'error',
          title: 'B≈ÇƒÖd sk≈Çadni JSON',
          description: 'Plik JSON nie mo≈ºe byƒá odczytany z powodu b≈Çƒôdu sk≈Çadni',
          tags: ['json', 'config'],
          causes: [
            'BrakujƒÖcy przecinek miƒôdzy elementami',
            'Nieprawid≈Çowe cudzys≈Çowy (u≈ºycie \' zamiast ")',
            'Przecinek po ostatnim elemencie w tablicy/obiekcie',
            'BrakujƒÖce nawiasy klamrowe lub kwadratowe'
          ],
          solutions: [
            {
              step: 'U≈ºyj walidatora JSON online',
              detail: 'Skopiuj zawarto≈õƒá pliku do <a href="https://jsonlint.com" target="_blank">jsonlint.com</a> - poka≈ºe dok≈Çadne miejsce b≈Çƒôdu'
            },
            {
              step: 'Sprawd≈∫ cudzys≈Çowy',
              detail: 'JSON wymaga podw√≥jnych cudzys≈Çow√≥w ("tekst"), nie pojedynczych (\'tekst\')'
            },
            {
              step: 'Usu≈Ñ zbƒôdne przecinki',
              detail: 'Ostatni element w obiekcie/tablicy nie mo≈ºe mieƒá przecinka'
            }
          ],
          codeExample: {
            lang: 'json',
            bad: '{\n  "name": "Jan",\n  "age": 25,  // ‚ùå Przecinek po ostatnim!\n}',
            good: '{\n  "name": "Jan",\n  "age": 25\n}'
          },
          tip: {
            type: 'info',
            title: 'Wskaz√≥wka',
            content: 'U≈ºywaj edytora z pod≈õwietlaniem sk≈Çadni JSON (VS Code, Sublime Text) - automatycznie podkre≈õli b≈Çƒôdy.'
          }
        },
        {
          id: 'materials-not-loading',
          category: 'display',
          icon: 'üìö',
          iconType: 'warning',
          title: 'Materia≈Çy nie ≈ÇadujƒÖ siƒô',
          description: 'Strona wy≈õwietla "≈Åadowanie..." lub puste okno zamiast listy materia≈Ç√≥w',
          tags: ['js', 'github'],
          causes: [
            'Plik materials.json nie zosta≈Ç wygenerowany',
            'GitHub Actions nie ma uprawnie≈Ñ do zapisu',
            'B≈ÇƒÖd sieciowy lub cache przeglƒÖdarki',
            'Folder wyklady/ nie zawiera ≈ºadnych plik√≥w'
          ],
          solutions: [
            {
              step: 'Sprawd≈∫ GitHub Actions',
              detail: 'Przejd≈∫ do zak≈Çadki Actions w repozytorium i sprawd≈∫ czy workflow "Generate Materials Index" zako≈Ñczy≈Ç siƒô powodzeniem'
            },
            {
              step: 'Nadaj uprawnienia zapisu',
              detail: 'Settings ‚Üí Actions ‚Üí General ‚Üí Workflow permissions ‚Üí "Read and write permissions"'
            },
            {
              step: 'Od≈õwie≈º stronƒô',
              detail: 'U≈ºyj Ctrl+F5 (Windows) lub Cmd+Shift+R (Mac) aby wymusiƒá pe≈Çne od≈õwie≈ºenie'
            },
            {
              step: 'Dodaj pliki do wyklady/',
              detail: 'Upewnij siƒô, ≈ºe folder wyklady/ zawiera przynajmniej jeden plik PDF, DOCX lub PPTX'
            }
          ],
          tip: {
            type: 'warning',
            title: 'Uwaga',
            content: 'Po pierwszym pushu mo≈ºe minƒÖƒá 1-2 minuty zanim GitHub Actions wygeneruje plik materials.json.'
          }
        },
        {
          id: 'announcements-error',
          category: 'json',
          icon: 'üì¢',
          iconType: 'error',
          title: 'B≈ÇƒÖd ≈Çadowania og≈Çosze≈Ñ',
          description: 'Og≈Çoszenia nie wy≈õwietlajƒÖ siƒô lub pokazuje siƒô komunikat o b≈Çƒôdzie',
          tags: ['json'],
          causes: [
            'Nieprawid≈Çowa struktura pliku announcements.json',
            'Dwa obiekty JSON w jednym pliku (po rƒôcznej edycji)',
            'BrakujƒÖca tablica "items"',
            'Plik nie istnieje lub ma nieprawid≈ÇowƒÖ ≈õcie≈ºkƒô'
          ],
          solutions: [
            {
              step: 'Sprawd≈∫ strukturƒô pliku',
              detail: 'Plik musi zawieraƒá JEDEN obiekt z kluczem "items" bƒôdƒÖcym tablicƒÖ'
            },
            {
              step: 'U≈ºyj prawid≈Çowego szablonu',
              detail: 'Skopiuj poni≈ºszy szablon i dostosuj do swoich potrzeb'
            }
          ],
          codeExample: {
            lang: 'json',
            good: '{\n  "meta": {\n    "version": "1.0",\n    "updated_at": "2026-01-15"\n  },\n  "items": [\n    {\n      "id": 1,\n      "date": "2026-01-15",\n      "title": "Tytu≈Ç og≈Çoszenia",\n      "body": "Tre≈õƒá og≈Çoszenia...",\n      "important": false,\n      "tags": ["info"]\n    }\n  ]\n}'
          },
          tip: {
            type: 'success',
            title: 'Dobre praktyki',
            content: 'Zawsze edytuj plik przez GitHub Web Editor - automatycznie waliduje JSON przed zapisem.'
          }
        },
        {
          id: 'github-pages-404',
          category: 'github',
          icon: 'üîó',
          iconType: 'error',
          title: 'Strona 404 na GitHub Pages',
          description: 'Po wej≈õciu na adres GitHub Pages wy≈õwietla siƒô b≈ÇƒÖd 404',
          tags: ['github'],
          causes: [
            'GitHub Pages nie jest w≈ÇƒÖczony',
            'Nieprawid≈Çowa ga≈ÇƒÖ≈∫ lub folder ≈∫r√≥d≈Çowy',
            'Brak pliku index.html w katalogu g≈Ç√≥wnym',
            'Wdro≈ºenie jeszcze siƒô nie zako≈Ñczy≈Ço'
          ],
          solutions: [
            {
              step: 'W≈ÇƒÖcz GitHub Pages',
              detail: 'Settings ‚Üí Pages ‚Üí Source: "Deploy from a branch" ‚Üí Branch: main, Folder: / (root)'
            },
            {
              step: 'Sprawd≈∫ status wdro≈ºenia',
              detail: 'W zak≈Çadce Actions sprawd≈∫ czy workflow "pages-build-deployment" zako≈Ñczy≈Ç siƒô sukcesem'
            },
            {
              step: 'Poczekaj na propagacjƒô',
              detail: 'Pierwsze wdro≈ºenie mo≈ºe trwaƒá do 10 minut. Od≈õwie≈º stronƒô po chwili.'
            }
          ],
          tip: {
            type: 'info',
            title: 'Adres strony',
            content: 'Format adresu: https://TW√ìJ-USERNAME.github.io/NAZWA-REPOZYTORIUM/'
          }
        },
        {
          id: 'dark-mode-not-working',
          category: 'display',
          icon: 'üåô',
          iconType: 'info',
          title: 'Tryb ciemny nie dzia≈Ça',
          description: 'Przycisk zmiany motywu nie reaguje lub motyw siƒô nie zapisuje',
          tags: ['js', 'css'],
          causes: [
            'JavaScript jest wy≈ÇƒÖczony w przeglƒÖdarce',
            'LocalStorage jest zablokowany (tryb prywatny)',
            'B≈ÇƒÖd w konsoli przeglƒÖdarki',
            'Cache przeglƒÖdarki'
          ],
          solutions: [
            {
              step: 'W≈ÇƒÖcz JavaScript',
              detail: 'Upewnij siƒô, ≈ºe JavaScript jest w≈ÇƒÖczony w ustawieniach przeglƒÖdarki'
            },
            {
              step: 'Sprawd≈∫ tryb prywatny',
              detail: 'W trybie incognito/prywatnym localStorage mo≈ºe byƒá zablokowany - otw√≥rz stronƒô w normalnym oknie'
            },
            {
              step: 'Wyczy≈õƒá cache',
              detail: 'Ctrl+Shift+Delete ‚Üí Wyczy≈õƒá dane przeglƒÖdania ‚Üí Pliki w pamiƒôci podrƒôcznej'
            }
          ],
          tip: {
            type: 'info',
            title: 'Domy≈õlny motyw',
            content: 'Strona automatycznie wykrywa preferencje systemowe (jasny/ciemny) przy pierwszym uruchomieniu.'
          }
        },
        {
          id: 'pdf-not-displaying',
          category: 'display',
          icon: 'üìÑ',
          iconType: 'warning',
          title: 'PDF nie wy≈õwietla siƒô w podglƒÖdzie',
          description: 'Modal otwiera siƒô, ale PDF jest pusty lub pokazuje b≈ÇƒÖd',
          tags: ['js', 'github'],
          causes: [
            'Plik PDF jest zbyt du≈ºy (>25MB)',
            'PrzeglƒÖdarka blokuje wy≈õwietlanie PDF',
            'Plik jest uszkodzony lub nieprawid≈Çowo zakodowany',
            'CORS blokuje dostƒôp do pliku'
          ],
          solutions: [
            {
              step: 'Sprawd≈∫ rozmiar pliku',
              detail: 'GitHub Pages ma limit 100MB na plik, ale du≈ºe PDF mogƒÖ wolno siƒô ≈Çadowaƒá. Rozwa≈º kompresjƒô.'
            },
            {
              step: 'U≈ºyj przycisku Pobierz',
              detail: 'Je≈õli podglƒÖd nie dzia≈Ça, u≈ºyj przycisku "Pobierz" i otw√≥rz plik lokalnie'
            },
            {
              step: 'Sprawd≈∫ nazwƒô pliku',
              detail: 'Unikaj polskich znak√≥w i spacji w nazwach plik√≥w. U≈ºyj: plik_nazwa.pdf zamiast: plik nazwa.pdf'
            }
          ],
          tip: {
            type: 'warning',
            title: 'Ograniczenia przeglƒÖdarek',
            content: 'Niekt√≥re przeglƒÖdarki mobilne nie obs≈ÇugujƒÖ podglƒÖdu PDF w iframe. U≈ºyj przycisku Pobierz.'
          }
        },
        {
          id: 'config-not-applied',
          category: 'config',
          icon: '‚öôÔ∏è',
          iconType: 'config',
          title: 'Konfiguracja nie jest stosowana',
          description: 'Zmiany w config.json nie sƒÖ widoczne na stronie',
          tags: ['config', 'json'],
          causes: [
            'B≈ÇƒÖd sk≈Çadni w config.json',
            'Cache przeglƒÖdarki',
            'Plik nie zosta≈Ç wypchniƒôty na GitHub',
            'Nieprawid≈Çowa ≈õcie≈ºka do pliku'
          ],
          solutions: [
            {
              step: 'Zwaliduj config.json',
              detail: 'Sprawd≈∫ czy plik ma poprawnƒÖ sk≈Çadniƒô JSON (u≈ºyj jsonlint.com)'
            },
            {
              step: 'Wymu≈õ od≈õwie≈ºenie',
              detail: 'Ctrl+F5 lub Ctrl+Shift+R aby pominƒÖƒá cache'
            },
            {
              step: 'Sprawd≈∫ commit',
              detail: 'Upewnij siƒô, ≈ºe zmiany zosta≈Çy zapisane (git commit) i wys≈Çane (git push)'
            },
            {
              step: 'Sprawd≈∫ konsolƒô',
              detail: 'F12 ‚Üí Console - poszukaj komunikat√≥w o b≈Çƒôdach ≈Çadowania config.json'
            }
          ],
          codeExample: {
            lang: 'json',
            good: '{\n  "instructor": {\n    "name": "dr Jan Kowalski",\n    "department": "Wydzia≈Ç Informatyki"\n  },\n  "branding": {\n    "logo_text": "WI",\n    "primary_color": "#0066cc"\n  }\n}'
          }
        },
        {
          id: 'workflow-failed',
          category: 'github',
          icon: 'üî¥',
          iconType: 'error',
          title: 'GitHub Actions workflow failed',
          description: 'Workflow zako≈Ñczy≈Ç siƒô b≈Çƒôdem (czerwona ikona)',
          tags: ['github'],
          causes: [
            'B≈ÇƒÖd w pliku JSON (announcements lub config)',
            'Brak uprawnie≈Ñ do zapisu',
            'B≈ÇƒÖd w skrypcie Python',
            'Przekroczony limit czasowy'
          ],
          solutions: [
            {
              step: 'Sprawd≈∫ logi workflow',
              detail: 'Actions ‚Üí Kliknij nieudany workflow ‚Üí Kliknij job ‚Üí Rozwi≈Ñ kroki aby zobaczyƒá szczeg√≥≈Çy b≈Çƒôdu'
            },
            {
              step: 'Napraw b≈ÇƒÖd JSON',
              detail: 'Je≈õli b≈ÇƒÖd dotyczy walidacji JSON - popraw plik zgodnie z komunikatem'
            },
            {
              step: 'Nadaj uprawnienia',
              detail: 'Settings ‚Üí Actions ‚Üí General ‚Üí Workflow permissions ‚Üí Read and write'
            },
            {
              step: 'Uruchom ponownie',
              detail: 'Actions ‚Üí Nieudany workflow ‚Üí Re-run all jobs'
            }
          ],
          tip: {
            type: 'success',
            title: 'Automatyczne powiadomienia',
            content: 'GitHub wysy≈Ça email gdy workflow siƒô nie powiedzie. Sprawd≈∫ swojƒÖ skrzynkƒô.'
          }
        }
      ];

      const faqs = [
        {
          id: 'faq-fork',
          category: 'github',
          icon: 'üç¥',
          iconType: 'info',
          title: 'Jak u≈ºyƒá tego szablonu dla mojej grupy?',
          description: 'Instrukcja tworzenia w≈Çasnej kopii portalu',
          tags: ['github'],
          causes: [],
          solutions: [
            {
              step: 'Zr√≥b Fork repozytorium',
              detail: 'Kliknij przycisk "Fork" w prawym g√≥rnym rogu strony repozytorium'
            },
            {
              step: 'Dostosuj config.json',
              detail: 'Zmie≈Ñ dane wyk≈Çadowcy, kolory i teksty na swoje'
            },
            {
              step: 'W≈ÇƒÖcz GitHub Pages',
              detail: 'Settings ‚Üí Pages ‚Üí Source: Deploy from branch ‚Üí main / (root)'
            },
            {
              step: 'Gotowe!',
              detail: 'Twoja strona bƒôdzie dostƒôpna pod: https://TW√ìJ-LOGIN.github.io/tanski_materialy/'
            }
          ]
        },
        {
          id: 'faq-add-material',
          category: 'github',
          icon: 'üì§',
          iconType: 'info',
          title: 'Jak dodaƒá nowy materia≈Ç?',
          description: 'Szybka instrukcja dodawania wyk≈Çad√≥w',
          tags: ['github'],
          causes: [],
          solutions: [
            {
              step: 'Przejd≈∫ do folderu wyklady/',
              detail: 'W repozytorium kliknij folder "wyklady"'
            },
            {
              step: 'Kliknij "Add file" ‚Üí "Upload files"',
              detail: 'PrzeciƒÖgnij pliki PDF/DOCX/PPTX lub kliknij "choose your files"'
            },
            {
              step: 'Zatwierd≈∫ zmiany',
              detail: 'Wpisz opis commita (np. "Dodano wyk≈Çad 5") i kliknij "Commit changes"'
            },
            {
              step: 'Poczekaj na automatyzacjƒô',
              detail: 'GitHub Actions automatycznie zaktualizuje listƒô materia≈Ç√≥w w ciƒÖgu 1-2 minut'
            }
          ]
        },
        {
          id: 'faq-custom-domain',
          category: 'github',
          icon: 'üåê',
          iconType: 'info',
          title: 'Czy mogƒô u≈ºyƒá w≈Çasnej domeny?',
          description: 'Konfiguracja niestandardowej domeny',
          tags: ['github'],
          causes: [],
          solutions: [
            {
              step: 'Kup domenƒô',
              detail: 'Zarejestruj domenƒô u dowolnego rejestratora (np. OVH, home.pl, nazwa.pl)'
            },
            {
              step: 'Skonfiguruj DNS',
              detail: 'Dodaj rekord CNAME wskazujƒÖcy na: TW√ìJ-LOGIN.github.io'
            },
            {
              step: 'Dodaj domenƒô w GitHub',
              detail: 'Settings ‚Üí Pages ‚Üí Custom domain ‚Üí Wpisz swojƒÖ domenƒô'
            },
            {
              step: 'W≈ÇƒÖcz HTTPS',
              detail: 'Zaznacz "Enforce HTTPS" (mo≈ºe wymagaƒá kilku minut)'
            }
          ]
        }
      ];

      // ============================================
      // RENDER FUNCTIONS
      // ============================================

      function renderProblem(problem) {
        const causesHtml = problem.causes.length > 0 ? `
          <div class="solution-section">
            <h4>‚ö†Ô∏è Mo≈ºliwe przyczyny</h4>
            <ul class="cause-list">
              ${problem.causes.map(c => `<li>${c}</li>`).join('')}
            </ul>
          </div>
        ` : '';

        const stepsHtml = problem.solutions.length > 0 ? `
          <div class="solution-section">
            <h4>‚úÖ RozwiƒÖzanie krok po kroku</h4>
            <ol class="solution-steps">
              ${problem.solutions.map(s => `
                <li>
                  <strong>${s.step}</strong>
                  <p>${s.detail}</p>
                </li>
              `).join('')}
            </ol>
          </div>
        ` : '';

        const codeHtml = problem.codeExample ? `
          <div class="solution-section">
            <h4>üíª Przyk≈Çad kodu</h4>
            ${problem.codeExample.bad ? `
              <p style="color: var(--error); font-weight: 600; margin-bottom: 8px;">‚ùå Nieprawid≈Çowo:</p>
              <div class="code-block">
                <div class="code-header">
                  <span class="code-lang">${problem.codeExample.lang}</span>
                  <button class="copy-btn" onclick="copyCode(this)">üìã Kopiuj</button>
                </div>
                <div class="code-content"><pre>${escapeHtml(problem.codeExample.bad)}</pre></div>
              </div>
            ` : ''}
            <p style="color: var(--success); font-weight: 600; margin: 16px 0 8px;">‚úÖ Prawid≈Çowo:</p>
            <div class="code-block">
              <div class="code-header">
                <span class="code-lang">${problem.codeExample.lang}</span>
                <button class="copy-btn" onclick="copyCode(this)">üìã Kopiuj</button>
              </div>
              <div class="code-content"><pre>${escapeHtml(problem.codeExample.good)}</pre></div>
            </div>
          </div>
        ` : '';

        const tipHtml = problem.tip ? `
          <div class="tip-box ${problem.tip.type}">
            <span class="tip-icon">${problem.tip.type === 'success' ? 'üí°' : problem.tip.type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'}</span>
            <div class="tip-content">
              <strong>${problem.tip.title}</strong>
              ${problem.tip.content}
            </div>
          </div>
        ` : '';

        return `
          <article class="problem-card" data-id="${problem.id}" data-category="${problem.category}" data-search="${problem.title.toLowerCase()} ${problem.description.toLowerCase()} ${problem.tags.join(' ')}">
            <div class="problem-header" onclick="toggleProblem('${problem.id}')">
              <div class="problem-icon ${problem.iconType}">${problem.icon}</div>
              <div class="problem-content">
                <h3 class="problem-title">${problem.title}</h3>
                <p class="problem-desc">${problem.description}</p>
                <div class="problem-tags">
                  ${problem.tags.map(t => `<span class="tag ${t}">${t.toUpperCase()}</span>`).join('')}
                </div>
              </div>
              <span class="expand-icon">‚ñº</span>
            </div>
            <div class="solution-panel">
              <div class="solution-content">
                ${causesHtml}
                ${stepsHtml}
                ${codeHtml}
                ${tipHtml}
              </div>
            </div>
          </article>
        `;
      }

      function escapeHtml(str) {
        const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' };
        return str.replace(/[&<>"']/g, m => map[m]);
      }

      // ============================================
      // INTERACTION FUNCTIONS
      // ============================================

      window.toggleProblem = function(id) {
        const card = document.querySelector(`[data-id="${id}"]`);
        if (card) {
          card.classList.toggle('expanded');
        }
      };

      window.copyCode = function(btn) {
        const codeBlock = btn.closest('.code-block');
        const code = codeBlock.querySelector('pre').textContent;
        navigator.clipboard.writeText(code).then(() => {
          btn.textContent = '‚úì Skopiowano!';
          btn.classList.add('copied');
          setTimeout(() => {
            btn.textContent = 'üìã Kopiuj';
            btn.classList.remove('copied');
          }, 2000);
        });
      };

      function filterByCategory(category) {
        const cards = document.querySelectorAll('.problem-card');
        let visibleCount = 0;
        
        cards.forEach(card => {
          const cardCategory = card.dataset.category;
          const matchesCategory = category === 'all' || cardCategory === category;
          const matchesSearch = card.dataset.search.includes(currentSearch);
          
          if (matchesCategory && matchesSearch) {
            card.classList.remove('hidden');
            visibleCount++;
          } else {
            card.classList.add('hidden');
          }
        });

        // Update active button
        document.querySelectorAll('.category-btn').forEach(btn => {
          btn.classList.toggle('active', btn.dataset.category === category);
        });

        updateStats(visibleCount);
      }

      let currentSearch = '';
      let currentCategory = 'all';

      function filterBySearch(query) {
        currentSearch = query.toLowerCase();
        const cards = document.querySelectorAll('.problem-card');
        let visibleCount = 0;

        cards.forEach(card => {
          const matchesSearch = card.dataset.search.includes(currentSearch);
          const matchesCategory = currentCategory === 'all' || card.dataset.category === currentCategory;
          
          if (matchesSearch && matchesCategory) {
            card.classList.remove('hidden');
            visibleCount++;
          } else {
            card.classList.add('hidden');
          }
        });

        updateStats(visibleCount);
      }

      function updateStats(count) {
        const stats = document.getElementById('searchStats');
        if (currentSearch || currentCategory !== 'all') {
          stats.textContent = `Znaleziono: ${count} ${count === 1 ? 'problem' : count < 5 ? 'problemy' : 'problem√≥w'}`;
        } else {
          stats.textContent = 'Wy≈õwietlono wszystkie problemy';
        }
      }

      function updateCounts() {
        const allProblems = [...problems, ...faqs];
        document.getElementById('countAll').textContent = allProblems.length;
        document.getElementById('countJson').textContent = allProblems.filter(p => p.category === 'json').length;
        document.getElementById('countGithub').textContent = allProblems.filter(p => p.category === 'github').length;
        document.getElementById('countDisplay').textContent = allProblems.filter(p => p.category === 'display').length;
        document.getElementById('countConfig').textContent = allProblems.filter(p => p.category === 'config').length;
      }

      // ============================================
      // THEME
      // ============================================

      function initTheme() {
        const saved = localStorage.getItem('tanski_theme');
        if (saved === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
        } else if (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.setAttribute('data-theme', 'dark');
        }

        document.getElementById('themeToggle').addEventListener('click', () => {
          const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
          if (isDark) {
            document.documentElement.removeAttribute('data-theme');
            localStorage.setItem('tanski_theme', 'light');
          } else {
            document.documentElement.setAttribute('data-theme', 'dark');
            localStorage.setItem('tanski_theme', 'dark');
          }
        });
      }

      // ============================================
      // INIT
      // ============================================

      function init() {
        initTheme();

        // Render problems
        const problemsGrid = document.getElementById('problemsGrid');
        problemsGrid.innerHTML = problems.map(renderProblem).join('');

        // Render FAQs
        const faqGrid = document.getElementById('faqGrid');
        faqGrid.innerHTML = faqs.map(renderProblem).join('');

        // Update counts
        updateCounts();

        // Search handler
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
          filterBySearch(e.target.value);
        });

        // Category handlers
        document.querySelectorAll('.category-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            currentCategory = btn.dataset.category;
            filterByCategory(currentCategory);
          });
        });

        // Expand first problem
        const firstProblem = document.querySelector('.problem-card');
        if (firstProblem) {
          firstProblem.classList.add('expanded');
        }
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }

    })();
  </script>
</body>
</html>
